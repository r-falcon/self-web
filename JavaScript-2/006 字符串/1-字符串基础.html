<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      /* 字符串笔记
        一、字符串概念
            所有带单引号或者双引号的都叫字符串
        二、字符串声明
            1.通过new运算符去声明字符串
                var str1=new String(100);//str1-->object    对象，引用数据类型
                alert(str1+20);//10020
            2.省略new声明字符串
                var str2=String(100);//str2-->string
                alert(str2+20);//10020
            3.字符串常量赋值
                var str3="100";
                alert(str3);//100       str3-->string
        三、访问字符串中字符
            1.字符串.length   访问字符串中字符的个数
            【注】中文  utf-8(三个字符表示一个汉字);gbk(两个字符表示一个汉字)   在计数的时候都是当做一个汉字计数
            例子：
                var str="hello北京";
                alert(str.length);//7       
            2.访问字符串中的单个字符：
                字符串.charAt(下标)     【注】下标从0开始
                字符串[下标]
                【注】字符串是只读，字符串一旦被声明就没有办法被修改，如果非要声明字符串，我们只能讲原字符串效果，重新生成新的字符串
            3.字符串中的字符进行遍历也可以通过循环遍历
                var str="hello北京";
                for(var i=0;i<str.length;i++){
                    document.write(str[i]+"<br/>");
                }
            【注】在JS中，字符串既是基本数据类型，又是组合数据类型
        四、字符串方法
            1.了解即可
            document.write()中使用，用特殊样式输出该字符串
                big()   用大号字体显示字符串
                blink()     显示闪动字符串（IE下无效）
                bold()      使用粗体显示字符串
                fixed()     以打字机文本显示字符串
                strike()    使用删除线来显示字符串
                fontcolor()     使用指定颜色来显示字符串
                fontsize()      使用指定尺寸来显示字符串
                link()      将字符串显示为链接
                sub()   把字符串显示为下标
                sup()   把字符串显示为上标
                例子：document.write("hello".big()+"world".fontcolor("red"));
            2.需要掌握
                <1>charCodeAt()
                    格式：字符串.charCodeAt(下标)
                    功能：访问字符串中对应下标字符的ASCII码值
                    例子：
                        var str="hello";
                        alert(str.charCodeAt(1));//101
                <2>String.fromCharCode();
                    格式：String.fromCharCode(码值1，码值2...);
                    功能：将传入的ASCII码值转成对应的字符
                    返回值：组成的字符串
                    例子：
                        var str=String.fromChartCode(97,98,99,100);
                        alert(str);//abcd
        五、字符串查找方法
            1.indexOf()
                格式：supStr.indexOf(subStr,start);
                参数：第一个参数，查找字符串
                     start从哪个下标开始去查找，如果不传入，默认从下标0开始查找
                功能：在supStr中查找subStr第一次出现的位置，从start这个位置开始查找
                返回值：-1      说明没有查找到
                例子:
                    var supStr="abcabcabc";
                    var subStr="abc";
                    var index=supStr.indexOf(subStr);//没有start，默认从0匹配
                    alert(index);//0            |-->(subStr,1);  //3,从1的位置开始匹配
            2.lastIndexOf()
                格式：supStr.lastIndexOf(subStr);
                参数：第二个参数是开始查找的位置，查找的下标是从右往左数的
                功能：在supStr中查找subStr最后一次出现的位置
                返回值：-1  没有查找到
                例子:
                    var supStr="abcabcabc";
                    var subStr="abc";
                    var index=supStr.lastIndexOf(subStr);
                    alert(index);//6
            3.search()
                格式：supStr.search(subStr);
                参数：字符串/正则表达式
                    【注】正则表达式 修饰符：1.忽略大小写   2.全局匹配
                功能：在supStr中查找subStr第一次出现的位置
                返回值：-1  没有查找到
                例子1:
                    var supStr="abcabcabc";
                    var subStr="abc";
                    var index=supStr.search(subStr);
                    alert(index);//0
                例子2：
                    var supStr="Abcabcabc";
                    var subStr=/abc/i;  //正则表达式且忽略大小写
                    var index=supStr.search(subStr);
                    alert(index);//0
        六、字符串提取方法
            1.substring()
                格式：字符串.substring(start,end);
                功能；将字符串中[start,end)这部分字符提取出来，生成一个新的字符串
                返回值：生成的新字符串
                例子:
                    var str="hello";
                    var newStr=str.substring(1,4);
                    alert(newStr);   //ell
                    alert(str);      //hello
            2.substr()
                格式：字符串.substr(start.length);
                返回值：新生成的字符串  
                例子:
                    var str="hello";
                    var newStr=str.substr(1,3);
                    alert(newStr);   //ell
                    alert(str);      //hello
            3.slice(数组)       //效果和substring一样
                格式：字符串.slice(start,end);
                例子:
                    var str="hello";
                    var newStr=str.slice(1,4);
                    alert(newStr);   //ell
                    alert(str);      //hello
            4.replace()
                格式：supStr.replace(oldStr,newStr);
                功能：用newStr将oldStr替换掉，生成新的字符串
                参数：
                    第一个参数传入的字符串只能替换一次
                    第一个参数 正则表达式
                返回值：替换成的新字符串
                例子1:
                    var str="how are you";
                    var newStr=str.replace("are","old are");
                    alert(newStr);//how old are you
                    alert(str);//how are you 
                例子2:
                    var str="how are are are you";
                    var newStr=str.replace(/are/g,"old are");//g全局 i忽略大小写  gi（全局且忽略）
                    alert(newStr);//how old are old are old are you
                    alert(str);//how are you
            5.split()   字符串分割
                格式：字符串.split(分隔符，length)
                参数：
                    第一个参数，用这个分割符对原字符串进行分割
                    第二个参数，控制返回的数组的元素格式，一般情况下不用
                功能：用分割符对原字符串进行字符串分割，将分割完毕以后的子串，放在数组中返回
                返回值：数组
                例子:
                    var str="how are you";
                    var arr=str.split(" ");
                    alert(arr);//how,are,you
                    alert(str)://how are you
                【注】
                    1.相邻的两个分割符，会产生空字符串 ""
                    2.分隔符是空字符串"",直接将每一个字符单独分割成子串，放在数组中返回
            6.toLowerCase() 转换全小写  toUperCase()转换全大写
                例子:
                    var str="helloWORLD";
                    alert(str.toLowerCase());//helloworld
                    alert(str.toUperCase());//HELLOWORLD
            7.concat():字符串拼接（”+“完成拼接）
                例子:
                    var str1="hello";
                    var newStr=str1.concat("world",100);
                    //var newStr=str1+"world"+100;(更简单)
                    alert(newStr);//helloworld100  
        七、字符串验证码：验证你是否是机器人
            纯数字验证码：非常容易破解
            数字和字符组成的验证码
                0-9     A-Z(65~90)     a~z(97~122) 
                1.生成一个数组，装有单个字符，长度62数字    0-61的下标
                2.随机ASCII码数值
         */
    </script>
    <script>
      //字符串练习
      /* 
        将字符串str = “When I was young, I love a girl in neighbor class.”中,
        从young提取到girl生成新字符串。但是不许数
      */
      var str = "When I was young, I love a girl in neighbor class.";
      var start = str.indexOf("young");
      var end = str.indexOf("girl") + "girl".length;
      var newStr = str.substring(start, end);
      alert(newStr); //young, I love a girl

      /* 
        将字符中单词用空格隔开
        已知传入的字符串中只有字母,每个单词的首字母大写，请将每个单词用空格隔开，只保留一个单词的首字母大写
        传入:”HelloMyWorld”
        返回:”Hello my world”
        【思路】1.字符串转成数组 split("")  2.数组转成字符串 join("")
      */
      function wordOfStr(str) {
        var arr = str.split("");
        for (var i = 1; i < arr.length; i++) {
          //判断
          if (arr[i] >= "A" && arr[i] <= "Z") {
            //1.将大写字符转成小写    2.插入一个空格
            arr[i] = arr[i].toLowerCase();
            arr.splice(i, 0, " ");
          }
        }
        //alert(arr);//H,e,l,l,o, ,m,y, ,w,o,r,l,d
        return arr.join("");
      }
      var str = wordOfStr("HelloMyWorld");
      alert(str); //Hello my world

      /* 
        将字符串按照单词进行逆序，空格作为划分单词的唯一条件
        传入:”Welome to Beijing”改为 “Beijing to Welcome”
      */
      function reverseStr(str) {
        var arr = str.split(" ");
        arr.reverse();
        return arr.join(" ");
      }
      alert(reverseStr("Welome to Beijing")); //Beijing to Welome

      /* 对称数组
        传入一个数组，起元素类型与个数皆未知，返回新数组，由原数组的元素正序反序拼接而成。
        传入    [“One”, “Two”,”Three”] 
        返回    [“One”, “Two”, “Three”,”Three”,”Two”, “One”]
      */
      function symmetryArr(arr) {
        var newArr = arr.concat();
        for (var i = arr.length - 1; i >= 0; i--) {
          newArr.push(arr[i]);
        }
        return newArr;
      }
      alert(symmetryArr(["one", "two", "three"])); //one,two,three,three,two,one

      /* 
        已知一个字符串对象中,英语单词用各种非字母字符分割，统计单词个数
        传入:”Yes, she*is%my@love.”;
        返回 5
        【规律】当前面一个字符是字母，后面一个字符是非字母的时候，这就是一个单词
      */
      function countOfWord(str) {
        var count = 0;
        for (var i = 0; i < str.length - 1; i++) {
          if (isABC(str[i]) && !isABC(str[i + 1])) {
            count++;
          }
        }
        return count;
      }
      //判断单个字符是否是字母
      function isABC(charStr) {
        if (
          (charStr >= "a" && charStr <= "z") ||
          (charStr >= "A" && charStr <= "Z")
        ) {
          return true;
        } else {
          return false;
        }
      }
      alert(countOfWord("Yes, she*is%my@love.")); //5

      /* 
        实现函数，查找子串出现的次数，返回字符串str中出现substring的次数
        传入:”abcabcabc”, “abc”
        返回:3
      */
      function countOfStr(supStr, subStr) {
        var arr = supStr.split(subStr);
        return arr.length - 1;
      }
      alert(countOfStr("abcabcabc", "abc")); //3

      /* 
        已知千锋邮箱的用户名只能由数字字母下划线组成，域名为@1000phone.com,
        判断一个字符串是否是千锋邮箱，是返回true，不是返回false。
            mail@1000phone.com   是
            $mail@1000phone.com  不是
            mail@1000phone.comp  不是
      */
      function isEmail(email) {
        //1.查找@符号的位置
        var index = email.indexOf("@");
        if (index == -1) {
          return false;
        } else {
          var endStr = email.substring(index);
          if (endStr != "@1000phone.com") {
            return false;
          } else {
            //判断用户名是否符号数字字母下划线
            var username = email.substring(0, index);
            var isYes = true; //假设都符合
            for (var i = 0; i < username.length; i++) {
              if (!isDEF(username[i])) {
                isYes = false;
                break;
              }
            }
            return isYes;
          }
        }
      }
      //判断单个字符是否符号数字字母下划线
      function isDEF(charStr) {
        if (
          (charStr >= "a" && charStr <= "z") ||
          (charStr >= "A" && charStr <= "Z") ||
          (charStr >= "0" && charStr <= "9") ||
          charStr == "_"
        ) {
          return true;
        } else {
          return false;
        }
      }
      alert(isEmail("mail@1000phone.com")); //true
      alert(isEmail("$mail@1000phone.com")); //false
      alert(isEmail("mail@1000phone.comp")); //false

      //字符串验证码的练习
      //n位验证码（纯数字）  每一个数字的范围0-9 parseInt(Math.random()*10);
      function numTestCode(n) {
        var arr = []; //存储生成的数字
        for (var i = 0; i < n; i++) {
          var num = parseInt(Math.random() * 10);
          arr.push(num);
        }
        return arr.join("");
      }
      alert(numTestCode(6));

      //n位验证码（数字+字母）
      function TestCode(n) {
        var arr = [];
        for (var i = 0; i < n; i++) {
          var num = parseInt(Math.random() * 123);
          if (num >= 0 && num <= 9) {
            arr.push(num);
          } else if ((num >= 97 && num <= 122) || (num >= 65 && num <= 90)) {
            arr.push(String.fromCharCode(num));
          } else {
            i--;
          }
        }
        return arr.join("");
      }
      alert(TestCode(6));
    </script>
  </head>
  <body></body>
</html>
