<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      /* 数组笔记
        数组：用一个变量存储一堆的数据结构
        一、声明数组
            1.通过new创建数组   var arr = new Array(100,true,"hello");
                参数：传入任意的数据，存储到数组中
            2.省略new运算符创建数组 var arr = Array(100,true,"hello");
            【注】上述两种方法，传入参数只有一个，并且是数字的时候，直接声明这么长一个数组
                var arr = new Array(10);
            3.数组常量进行赋值（JS中一般使用中括号[]）  var arr = [100,true,"hello"];
        二、数组属性（数组和循环天生一对）
            1.数组.length:返回数组【元素】的个数
                元素：将数组存储的每一个数据类型，叫做数组的元素
                访问数组元素：数组[下标] （注意下标从0开始）
        三、数组遍历
            Math.random() 随机[0,1)      parseInt(Math.random()*10);   取到0-9的整数
            两种方法：
            1.for循环
                var arr = [10, 20, 30, 40, 50];
                for (var i = 0; i < arr.length; i++) {
                    console.log(arr[i]);
                } 
            2.for...in循环  快速遍历/快速枚举
                var arr = [10, 20, 30, 40, 50];
                for (var i in arr) {
                    console.log(arr[i]);
                }
        四、数组方法
            1.栈结构（后进先出）
                数组的两个方法形成栈结构
                    push
                        格式：数组.push(参数1,参数2...);
                        功能：给数组的末尾添加元素
                        返回值：插完元素以后数组的长度
                        例子：
                            var arr=["北京","上海","天津"];
                            arr.push("广州","深圳");
                    pop
                        格式：数组.pop()
                        参数：没有参数
                        返回值：取下一个元素
                        功能：从数组末尾取下一个元素
                        例子：
                            var arr=["北京","上海","天津"];
                            var res=arr.pop();
            2.队列结构（先进先出）
                shift()
                    格式：数组.shift()
                    参数：没有参数
                    功能：从数组的头部取下一个元素
                    返回值：取下的元素
                    例子：
                        var arr=["apple","orange","lemon"];
                        var res=arr.shift();//取数组的首位元素
                unshift()
                    格式：数组.unshift(参数1,参数2...);
                    功能：从数组的头部插入元素
                    返回值：插完元素以后数组的长度
                    例子：
                        var arr=["apple","orange","lemon"];
                        var res=arr.unshift("banana","grape");
            3.concat()
                <1>拷贝原数组，生成新数组
                <2>合并数组
                    格式：数组.concat(数组，数据...);   
                    返回值：合并成的新数组
                          【注】就算传入的是数组，数组中的元素要单独拆出来再进行合并
                    例子：
                        var arr1 = [10, 20, 30];
                        var arr2 = [50, 60, 70];
                        var newArr = arr1.concat(arr2, "hello", true);
                        alert(newArr);
                        alert(newArr.length);
                        alert(arr1);
            4.slice()
                格式：数组.slice(start,end);
                功能：可以基于当前数组获取指定区域的元素[start,end),提取出元素生成新数组
                返回值：生成的新数组，原数组不会发生任何变化
                例子：
                    var arr = [10, 20, 30, 40, 50, 60];
                    var newArr = arr.slice(1, 4);
                    alert(newArr);
                    alert(arr); 
            5.splice()
                格式：数组.splice(start,length,数据1，数据2...)
                参数：
                    start   开始截取位置
                    length      截取的元素的长度
                    第三个参数开始：在start位置，插入元素
                返回值：截取下来的元素组成的数组
                功能：增加、删除、修改（先删除，在增加）
                例子：
                    var arr = [10, 20, 30, 40, 50];
                    //增加 
                    var res = arr.splice(2, 0, "hello", "world");
                    alert(arr);//10,20,hello,world,30,40,50
                    alert(res);

                    //删除
                    var res = arr.splice(1, 2);
                    alert(arr);//10,40,50
                    alert(res);//20,30 

                    //修改
                    arr.splice(2, 1, "hello");
                    alert(arr);//10,20,hello,40,50  
            6. join()
                格式：数组.join（字符串）
                功能：将数组中的元素，用传入的拼接符，拼接一个字符串
                返回值：拼接好的字符串
                例子：
                    var arr = [10, 20, 30];
                    var str = arr.join("==");
                    alert(str);//10==20==30
                    alert(arr);//10,20,30  
            7.reverse()方法     （逆序）
                例子：
                    var arr = [true, "hello", 100];
                    arr.reverse();
                    alert(arr);//100,hello,true
            8.sort()方法    （排序）
                格式：数组.sort();
                    【注】默认从小到大排序、按照字符串排序
                参数：一个函数，代表要怎么去进行排序（固定用法）
                例子：
                    ar arr = [30, 20, 50, 10, 40, 60];
                    arr.sort();
                    alert(arr);//10,20,30,40,50,60

                    var arr = [1, 10, 20, 15, 25, 5];
                    arr.sort();
                    alert(arr);//1,10,15,20,25,5 (!有错误，按字符串大小进行排序)

                    //按数值大小排序
                    var arr = [1, 10, 20, 15, 25, 5];
                     arr.sort(function(value, value2) {//从小到大
                      return value - value2;
                    });
                    alert(arr);//1,5,10,15,20,25

                    arr.sort(function(value, value2) {//从大到小
                      return value2 - value;
                    });
                    alert(arr);//25,20,15,10,5,1  
            ECMA5新增数组方法：
                1.indexOf()
                    格式：数组.index(item,start);
                    参数：item任意的数据    start下标 可以不传入，默认是0
                    功能：在数组中查找第一次出现item元素的下标，从start开始去查找
                    返回值：-1 表示没有查找到
                    例子：
                        var arr = [10, 20, 30, 40, 50, 20, 30];
                        var index = arr.indexOf(20, 2);
                        alert(index); //5
                2.数组遍历
                    for循环 
                    for...in
                    forEach(ECMA5新增)
                    例子：
                        var arr = [10, 20, 30, 40, 50];
                        arr.forEach(function(item, index, arr) {
                          //item当前遍历到的元素   index当前遍历到元素的下标   arr数组本身
                          document.write(item + "," + index + "," + arr + "<br/>");
                        });
                3.map()
                    会遍历当前数组，然后调用参数中的方法，返回当前方法的返回值[映射]
                    例子：
                        ar arr = [10, 20, 30, 40, 50];
                        var newArr = arr.map(function(item, index, arr) {
                          //遍历要做的事情
                          return item * 1.3;
                        });
                        alert(newArr);
                        alert(arr);    
                4.filter()过滤
                    例子：
                        var arr = [10, 20, 30, 40, 50];
                        var newArr = arr.filter(function(item, index, arr) {
                          //过滤的条件
                          return item > 20;
                        });
                        alert(newArr);//30,40,50
                        alert(arr);//10,20,30,40,50
                5.some 某些
                    【注】在数组中查找是否有符合条件的元素，有返回true，没有返回false
                    短路操作：只要找到符合条件的元素，后面的循环就停止了
                    例子：
                        var arr = [10, 20, 30, 40, 50];
                        var res = arr.some(function(item, index, arr) {
                          //过滤的条件
                          return item > 20;
                        });
                        alert(res); //true
                        alert(arr); //10,20,30,40,50
                6.every每一个
                    【注】在数组中查找每一个元素是否符合条件，符合返回true，不符合返回false
                    短路操作：只有找到不符合条件的元素，后面的循环就终止了
                    例子：
                        var arr = [10, 20, 30, 40, 50];
                        var res = arr.every(function(item, index, arr) {
                          //过滤的条件
                          return item < 30;
                        });
                        alert(res); //false
                        alert(arr); //10,20,30,40,50
                7.reduce 归并
                    例子：
                        ar arr = [10, 20, 30, 40, 50];
                        var res = arr.reduce(function(prev, next, index, arr) {
                              // pre 第一次是 下标为0的员孙
                              //     第二次是  上一次遍历return的值
                              // next  从下标1开始，当前遍历到的元素
                              // arr  数组本身
                          alert(prev + "," + next);
                          return prev + next;
                        });
                        alert(res);
        五、引用/复合数据类型：（数组）
            1.对数组来说，存储的是数组的地址--->造成一个问题，改动时两个数组一起改，因为具有同样的数组地址
                解决方法；concat()方法：拷贝原数组，生成新的数组
                例子：
                    var arr1=[10,20,30,40];
                    var arr2=arr1;
                    arr2.push(50,60);
                    alert(arr1);//10,20,30,40,50,60
                    alert(arr2);//10,20,30,40,50,60
                    //concat()方法解决数组都改变的问题
                    var arr1 = [10, 20, 30, 40];
                    var arr2 = arr1.concat();
                    arr2.push(50, 60);
                    alert(arr1); //10,20,30,40
                    alert(arr2);//10,20,30,40,50,60
            2.声明提升：在当前作用域，声明变量和函数，会直接提升在整个代码的前面运行
                例子：
                    alert(sum);-->报错

                    alert(sum);//undefined(var sum预先取得了内存空间，所以没有声明之前为undefined，不会报错)
                    var sum=10;
                    alert(sum);//10
            3.预编译：在所以代码运行之前，计算机将代码从头到尾看一遍，将这个程序需要运行的空间一次性分配好。
                数组存储数据，数组中每一个元素可以是任意数据类型  
                例子：
                    var arr1 = [10, 20, 30];
                    var arr = [true, 100, "hello", arr1];
                    alert(arr[3]); //10,20,30
                    //alert(arr1[1]); 20
                    alert(arr[3][1]);//20   
        六、二维数组：数组存储数据，数组中每一个元素，元素可以是任意的数据类型  
        七、冒泡排序和选择排序
            1.冒泡排序：
                规则：前后两个数两两比较，如果符合交换条件就交换两个数的位置
                规律：
                    1.冒泡排序的每一轮排序，都可以找出一个最大的数，放在正确的位置
                    2.比较轮数=数组长度-1
                    3.每一轮比较的次数=数组的长度-当前的轮数
                例子：
                    var arr = [9, 8, 7, 6, 5, 4];
                    for (var i = 0; i < arr.length - 1; i++) {
                      //每一轮比较次数
                      for (var j = 0; j < arr.length - (i + 1); j++) {
                        if (arr[j] > arr[j + 1]) {
                          //交换两个数的位置
                          var tmp = arr[j];
                          arr[j] = arr[j + 1];
                          arr[j + 1] = tmp;
                        }
                      }
                    }
                    alert(arr);//4,5,6,7,8,9

                    //写成函数
                    var arr = [9, 8, 7, 6, 5, 4];
                    function bubbleSort(arr) {
                      for (var i = 0; i < arr.length - 1; i++) {
                        //每一轮比较次数
                        for (var j = 0; j < arr.length - (i + 1); j++) {
                          if (arr[j] > arr[j + 1]) {
                            //交换两个数的位置
                            var tmp = arr[j];
                            arr[j] = arr[j + 1];
                            arr[j + 1] = tmp;
                          }
                        }
                      }
                    }
                    bubbleSort(arr);
                    alert(arr);
            2.选择排序：(打擂台法)
                规则：选出一个位置，这个位置上的数，和后面所有的数进行比较，如果比较出大小就交换两个数的位置
                规律：
                    1.每一轮排序都可以选出一个最小的数，放在正确的位置
                    2.比较的轮数=数组长度-1
                    3.每轮比较的次数=数组的长度-当前的轮数 
                例子：
                    var arr = [9, 8, 7, 6, 5, 4];
                    //用的擂台的下标
                    for (var i = 0; i < arr.length - 1; i++) {
                      //被比较的数的下标
                      for (var j = i + 1; j < arr.length; j++) {
                        if (arr[i] > arr[j]) {
                          var tmp = arr[i];
                          arr[i] = arr[j];
                          arr[j] = tmp;
                        }
                      }
                    }
                    alert(arr);//4,5,6,7,8,9

                    //写成函数
                    var arr = [9, 8, 7, 6, 5, 4];
                    function changeSortAsc() {//升序排列，从小到大
                      for (var i = 0; i < arr.length - 1; i++) {
                        //被比较的数的下标
                        for (var j = i + 1; j < arr.length; j++) {
                          if (arr[i] > arr[j]) {
                            var tmp = arr[i];
                            arr[i] = arr[j];
                            arr[j] = tmp;
                          }
                        }
                      }
                    }
                    changeSortAsc(arr);
                    alert(arr);//4,5,6,7,8,9

                    var arr = [4, 5, 6, 7, 8, 9];
                    function changeSortDeasc() {
                      //降序排列，从大到小
                      for (var i = 0; i < arr.length - 1; i++) {
                        //被比较的数的下标
                        for (var j = i + 1; j < arr.length; j++) {
                          if (arr[i] < arr[j]) {
                            var tmp = arr[i];
                            arr[i] = arr[j];
                            arr[j] = tmp;
                          }
                        }
                      }
                    }
                    changeSortDeasc(arr);
                    alert(arr);//9,8,7,6,5,4
        八、严格模式
            除了正常运行模式,ECMAscript 5添加了第二种运行模式：“严格模式”
            1.严格模式：写在哪个作用域下，在哪个作用域下生效      "use strict";进入严格模式
                【注】尽量不要把严格模式写在全局
            2.用了严格模式，会有什么变化：
                <1>全局变量声明时，必须加var
                <2>this无法指向全局对象（后面学）
                <3>函数内重名属性
                <4>新增保留字：implements,interface,let,package,private,protected,public,static,yield
            3.严格模式的好处：
                <1>消除JavaScript语法的一些不合理、不严谨之处，减少一些怪异行为
                <2>消除代码运行的一些不安全之处，保证代码运行的安全
                <3>提高编译器效率，增加运行效率
                <4>为未来新版本的JavaScript做好铺垫
         */
    </script>
    <script>
      //数组练习
      //定义一个含有30个整型元素的数据，按顺序分别赋予从2开始的偶数；然后按顺序每5个数求出一个平均值，放在另一数组中并输出
      //1.声明数组
      var arr = new Array(30);
      for (var i = 0; i < arr.length; i++) {
        arr[i] = i * 2 + 2;
      }
      //2.求平均数
      var averageArr = [];
      for (var i = 0; i < 6; i++) {
        //3.取出求平均数的这个数组
        var newArr = arr.splice(0, 5); //var newArr=arr.slice(i*5,(i+1)*5);
        //4.求平均值
        var sum = 0; //求和数
        for (var j = 0; j < newArr.length; j++) {
          sum += newArr[j];
        }
        averageArr.push(sum / 5);
        alert(averageArr); //6,16,26,36,46,56
      }

      //写一个5*5的数组，并赋值1-25，然后输出左下三角（二维数组）
      var arr = [
        [1, 2, 3, 4, 5],
        [6, 7, 8, 9, 10],
        [11, 12, 13, 14, 15],
        [16, 17, 18, 19, 20],
        [21, 22, 23, 24, 25],
      ];
      // for (var i = 0; i < 5; i++) {
      //   for (var j = 0; j <= i; j++) {
      //     document.write(arr[i][j] + "&nbsp");
      //   }
      //   document.write("<br/>");
      // }
      for (var i = 0; i < arr.length; i++) {
        var newArr = arr[i];
        for (var j = 0; j < newArr.length; j++) {
          if (i >= j) {
            document.write(newArr[j] + "&nbsp");
          }
        }
        document.write("<br/>");
      }

      //随机给出一个五位以内的数，然后输出该数共有多少位，每位分别是什么
      function countOfNum(num) {
        //1.声明一个数组，存放取下的数
        var arr = [];
        while (num) {
          arr.push(num % 10);
          num = parseInt(num / 10);
        }
        alert(arr.length); //5
        arr.reverse();
        alert(arr); //1,2,3,4,5
      }
      countOfNum(12345);

      //编写函数has(arr,60)判断数组中是否存在60这个元素，返回布尔类型
      function has(arr, item) {
        for (var i = 0; i < arr.length; i++) {
          if (arr[i] === item) {
            return true;
          }
        }
        return false;
      }
      alert(has([10, 20, 30], 40)); //20-->true   40-->false

      /* 
            生成13位条形码(对之前的知识综合练习)
            Ean-13码规则：第十三位数字是前十二位数字经过计算得到的校验码。
            例如：690123456789
            第三位计算其校验码的过程为：
            @前十二位的奇数位和6+0+2+4+6+8=26
            @前十二位的偶数位和9+1+3+5+7+9=34
            @将奇数和与偶数和的三倍相加26+34*3=128
            @取结果的个位数：128的个位数为8
            @用10减去这个个位数10-8=2
            所以校验码为2（注：如果取结果的个位数为0，那么校验码不是（10-0=10），而是0）实现方法ean13（）计算验证码，输入12位条码，返回带验证码的条码。
            例如：输入：692223361219输出：6922233612192
        */
      function ean13(num) {
        //将其中每一位数都取下来
        var arr = [];
        while (num) {
          arr.unshift(num % 10);
          num = parseInt(num / 10);
        }
        var odd = 0;
        var even = 0;
        for (var i = 0; i < arr.length; i++) {
          if (i % 2 == 0) {
            //奇数位
            odd += arr[i];
          } else {
            //偶数位
            even += arr[i];
          }
        }
        var sum = (odd + even * 3) % 10;
        if (sum) {
          sum = 10 - sum;
        }
        //生成第13位数
        arr.push(sum);
        return Number(arr.join(""));
      }
      alert(ean13(692223361219));
    </script>
  </head>
  <body></body>
</html>
